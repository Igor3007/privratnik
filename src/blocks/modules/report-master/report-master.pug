include ../../modules/card-media/card-media.pug

mixin report-master(data)

  -
    const typeList = [
      {
        value: '/report-master--result-byobject.html',
        text: 'Количество попыток доступа за период по объектам'
      },
      {
        value: '/report-master--result-byontime.html',
        text: 'Распределение доступа по времени суток'
      },
      {
        value: '/report-master--result-byphoto.html',
        text: 'Просмотр фото и видео проездов'
      },
      {
        value: '/report-master--result-bymethods.html',
        text: 'Отчет по методам открытия'
      },
      {
        value: '/report-master--result-byonetime.html',
        text: 'Отчёт по разовым/временным пропускам'
      }
    ];

  .report-master
    .report-master__form
      form(action='/report-master--result-byobject.html' method='GET')
        .report-filter
          .report-filter__field
            label Начало
            .report-filter__date
                input(type="text" placeholder="Дата" data-input="datepicker" data-datepicker="start")
                select(placeholder="Время" data-find="false")
                  each item, index in Array(24) 
                    option(value="0")= index+':00' 
                    
          .report-filter__field
            label Окончание
            .report-filter__date
                input(type="text" placeholder="Дата" data-input="datepicker" data-datepicker="end")
                select(placeholder="Время" data-find="false")
                  each item, index in Array(24) 
                    option(value="0")= index+':00' 
          .report-filter__field
            label Тип отчёта
            select(placeholder="Выберите тип" class="report-type")
              each item, index in typeList
                if item.text == data.selected
                  option( selected value=item.value)= item.text
                else
                  option( value=item.value)= item.text

          .report-filter__field.report-filter__field--submit
            button.btn Получить отчёт

mixin report-service
  .report-service
    .report-service__icon: +bgimage('/img/common/connect.svg')
    .report-service__main
      .report-service__title Услуга не подключена
      .report-service__desc Перейдите в раздел «Услуги» с помощью кнопки «Подключить услугу» и активируйте то, что вас интересует.
    .report-service__btn
      a(href='/report-master--start.html'): button.btn.btn--add Подключить услугу

mixin _report-result-action
  .report-result__action
      .report-result__item
        select(placeholder="Все парковки")
          option(value="0") Парковка на Болдина
          option(value="0") Парковка 2
          option(value="0") Парковка 3
          option(value="0") Парковка 4
          option(value="0") Парковка 5
      .report-result__item
        select(placeholder="Все пользователи и группы")
          option(value="0") Парковка на Болдина
          option(value="0") Парковка 2
          option(value="0") Парковка 3
          option(value="0") Парковка 4
          option(value="0") Парковка 5
      .report-result__item.report-result__item--export
        a(href='#'): button.btn.btn-line Экспорт отчёта в Excel

mixin report-result
  .report-result
    .report-result__title Количество попыток доступа за период по объектам
    +_report-result-action
    .report-result__table
      .table-radius-wrapper
            .table.table--report
              .table__tr
                  .table__th 
                    |  Парковка
                    span.table__sort
                  .table__th 
                    |  Имя
                    span.table__sort
                  .table__th 
                    |  Номер телефона
                    span.table__sort
                  .table__th 
                    |  Количество попыток (удачных/отказ)
                    span.table__sort

              .table__tr
                .table__td(data-title="Парковка") Парковка на Болдина
                .table__td(data-title="Имя") Тестовый Михаил
                .table__td(data-title="Номер телефона") +7 (916) 261-19-17
                .table__td(data-title="Количество попыток (удачных/отказ)") 16/0
              each item in [1,1,1,1,1,1,1,1]
                .table__tr
                  .table__td(data-title="Парковка") ВАО-22-01
                  .table__td(data-title="Имя") Тестовый Михаил
                  .table__td(data-title="Номер телефона") +7 (916) 261-19-17
                  .table__td(data-title="Количество попыток (удачных/отказ)") 2/0
    .report-result__pagination: +pagination-showmore()


mixin report-result--ontime
  .report-result
    .report-result__title Распределение доступа по времени суток
    +_report-result-action
    .report-result__table
      .table-radius-wrapper
            .table.table--report
              .table__tr
                .table__th 
                  | Часы
                  span.table__sort
                .table__th 
                  | Количество попыток (удачных/отказ)
                  span.table__sort

              each item, index in Array(23)
                .table__tr
                  .table__td(data-title="Часы")= index+':00 – '+(index+1)+':00'
                  .table__td(data-title="Количество попыток (удачных/отказ)")
                    span(class="color--main" data-popup="access-bytime")= Math.floor(Math.random() * (99 - 0 + 1)) + 0 + '/' +Math.floor(Math.random() * (12 - 3 + 1)) + 3
                   
mixin report-result--onetime
  .report-result
    .report-result__title Отчёт по разовым/временным пропускам
    .report-result__action
      .report-result__item
        select(placeholder="Все парковки")
          option(value="0") Парковка на Болдина
          option(value="0") Парковка 2
          option(value="0") Парковка 3
          option(value="0") Парковка 4
          option(value="0") Парковка 5
     
      .report-result__item.report-result__item--export
        a(href='#'): button.btn.btn-line Экспорт отчёта в Excel
    .report-result__table
      .table-radius-wrapper
            .table.table--report
              .table__tr
                  .table__th 
                    |  Дата/время
                    span.table__sort
                  .table__th 
                    |  Парковка
                    span.table__sort
                 

              .table__tr
                .table__td(data-title="Дата/время") Парковка на Болдина
                .table__td(data-title="Парковка") Тестовый Михаил
              
              each item in [1,1,1,1,1,1,1,1]
                .table__tr
                  .table__td(data-title="Дата/время") ВАО-22-01
                  .table__td(data-title="Парковка") Тестовый Михаил
                
    .report-result__pagination: +pagination-showmore()


mixin report-result--methods
  .report-result
    .report-result__title Отчёт по методам открытия
    +_report-result-action
    .report-result__table
      .table-radius-wrapper
        .table.table--lastmaxwidth
          .table__tr
            .table__th 
              | Парковка
              span.table__sort
            .table__th 
              | Имя
              span.table__sort
            .table__th 
              | Номер телефона
              span.table__sort
            .table__th 
              | Метод открытия
              span.table__sort
          .table__tr
            .table__td(data-title="Парковка") Парковка на Болдина
            .table__td(data-title="Имя") Тестовый Михаил
            .table__td(data-title="Номер телефона") +7 (916) 261-19-17
            .table__td(data-title="Метод открытия" )
              ul.devices-access
                li: span( class="tooltip--top tooltip--right" data-tooltip="Метод открытия позвонив на номер телефона"): +bgimage('/img/common/remote-device-call.svg') 
          each item in [1,1,1,1,1]
            .table__tr
              .table__td(data-title="Парковка") Парковка на Болдина
              .table__td(data-title="Имя") Тестовый Михаил
              .table__td(data-title="Номер телефона") +7 (916) 261-19-17
              .table__td(data-title="Метод открытия")
                ul.devices-access
                  li: span( class="tooltip--top tooltip--right" data-tooltip="Метод открытия с мобильного приложения"): +bgimage('/img/common/remote-device-mobile-app.svg')


mixin report-result--media
  .report-result
    .report-result__title Просмотр фото и видео проездов
    +_report-result-action
    .report-result__media
      .report-media
        .report-media__list
          each item in [1,2,1,2,1,1,2,2,1,2]
            .report-media__item: +card-media(item)
    .report-result__pagination: +pagination-showmore()